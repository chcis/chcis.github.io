(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{603:function(s,t,n){s.exports=n.p+"assets/img/1.111b44c9.png"},604:function(s,t,n){s.exports=n.p+"assets/img/2.789c9287.png"},605:function(s,t,n){s.exports=n.p+"assets/img/3.37bef9e3.png"},606:function(s,t,n){s.exports=n.p+"assets/img/4.4ccd229a.png"},642:function(s,t,n){"use strict";n.r(t);var a=n(19),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"windows上的linux子系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows上的linux子系统"}},[s._v("#")]),s._v(" Windows上的Linux子系统")]),s._v(" "),a("blockquote",[a("p",[s._v("最近良心微软研发的Windows上的Linux子系统被友友们评价“好用到爆”。\n近来的Windows越来越向Linux靠近了，对于开发者来说，Windows上的Linux子系统很值得一用，非常好用。")])]),s._v(" "),a("h2",{attrs:{id:"什么是wsl2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是wsl2"}},[s._v("#")]),s._v(" 什么是WSL2？")]),s._v(" "),a("ul",[a("li",[s._v("WSL 2 是适用于 Linux 的 Windows 子系统体系结构的一个新版本，允许开发人员在Windows上直接运行Linux环境，使得在Windows系统上进行Linux的原生体验。")]),s._v(" "),a("li",[s._v("其底层通过微软的内置虚拟化技术（Hyper-v）实现Linux的环境。")]),s._v(" "),a("li",[s._v("本帖将在Windows10上部署启动WSL2，并安装一个Ubentu 20.04分发版本的Linux。")])]),s._v(" "),a("h2",{attrs:{id:"为wsl启用windows服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为wsl启用windows服务"}},[s._v("#")]),s._v(" 为WSL启用Windows服务")]),s._v(" "),a("p",[s._v("点击开始菜单，搜索PowerShell，右键PowerShell，选择用管理员进行。")]),s._v(" "),a("p",[a("img",{attrs:{src:n(603),alt:"图标"}})]),s._v(" "),a("p",[s._v("打开PowerShell终端，执行以下命令")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("PS C:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Windows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("system3"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\n")])])]),a("p",[s._v("[dism.exe]是Windows的部署映像服务和管理工具，上面的命令开启了WSL的功能。")]),s._v(" "),a("p",[s._v("以上命令执行成功之后，继续执行如下命令来开启Hyper-V的功能")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("PS C:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Windows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("system3"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" dism.exe /online /enable-feature /featurename:VirutalMachinePlatform /all /norestart\n")])])]),a("p",[s._v("完成以上操作之后，需要重启Windows操作系统，重启之后再次登陆系统。\n接下来需要从微软下载一个最新的Linux内核升级包并安装，下载安装包 wsl_update_x64.msi，下载完成后直接安装。")]),s._v(" "),a("p",[s._v("完成之后，以管理员身份运行 PowerShell，执行如下命令来设置wsl使用的默认版本")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("PS C:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Windows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("system3"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" wsl --set-default-version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),a("p",[s._v("这里我们将默认设置为 wsl 2 。")]),s._v(" "),a("p",[s._v("上述步骤就完成了WSL2的启用，接下来将使用WSL2安装基于Linux的发行版本（Ubuntu 20.04）。")]),s._v(" "),a("h2",{attrs:{id:"使用wsl安装ubuntu-20-04"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用wsl安装ubuntu-20-04"}},[s._v("#")]),s._v(" 使用WSL安装Ubuntu 20.04")]),s._v(" "),a("blockquote",[a("p",[s._v("在开启WSL功能之后，安装一个Linux的分发版很简单，只需要打开Windows应用商店（Microsoft Store），这里我们将安装Ubuntu 20.04分发版。")])]),s._v(" "),a("p",[a("img",{attrs:{src:n(604),alt:"图标"}})]),s._v(" "),a("p",[s._v("安装完成之后，就可以点击 启动 运行Ubuntu子系统，第一次运行需要一些时间来进行初始化配置，然后会提示输入Linux系统的用户名和密码。")]),s._v(" "),a("p",[s._v("这里的用户名和秘密不需要与Windows系统的用户名和密码一致，但可以通过sudo来获取管理权限。")]),s._v(" "),a("p",[a("img",{attrs:{src:n(605),alt:"图标"}})]),s._v(" "),a("p",[s._v("当完成初始化之后，就可以使用该Linux子系统了，当然是以终端的方式。")]),s._v(" "),a("h2",{attrs:{id:"安装widonws终端应用-winddos-terminal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装widonws终端应用-winddos-terminal"}},[s._v("#")]),s._v(" 安装widonws终端应用（Winddos Terminal）")]),s._v(" "),a("p",[s._v("安装的Ubuntu子系统提供了一个默认的终端，不过微软开源了一个Windows上的终端工具 - Windows Terminal，该工具支持很多自定义配置，同时支持Windows的Powershell，也支持Linux子系统，因此可以安装使用。")]),s._v(" "),a("p",[s._v("直接在应用商店搜索 Terminal ，选择 Windows Terminal 进行安装，安装完成之后可通过开始菜单启动。")]),s._v(" "),a("p",[s._v("安装时间可能会稍微久一点。")]),s._v(" "),a("p",[s._v("Windows Terminal默认是打开Powershell的，不过其支持多标签，点击标题栏上 + 服务旁边的下拉按钮，选择Ubuntu-20.04，新标签就会打开Ubuntu的这个子系统终端。")]),s._v(" "),a("p",[a("img",{attrs:{src:n(606),alt:"图标"}})]),s._v(" "),a("p",[s._v("Windows Termial支持很多自定义配置，具体请参考其文档。")]),s._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),a("p",[s._v("现在我们在Windows 10上安装了一个全功能的Linux环境，可以使用该环境进行一些Linux的系统实验，以及进行Linxu应用的开发（配合VSCode的wsl插件更加方便，赶紧装个docker尽情玩耍吧！）。")]),s._v(" "),a("blockquote",[a("p",[s._v("微软官方WSL2上的Docker入门: "),a("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-containers",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-containers"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("除了Ubuntu分发版，微软应用商店里还提供了其他支持的分发版本，包括Debian，openSUSE，Kali等，你也可以选择安装多个环境。")])])}),[],!1,null,null,null);t.default=e.exports}}]);